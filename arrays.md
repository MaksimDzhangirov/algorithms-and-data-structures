<h1>Массивы</h1>
<div align="justify">
Введение в простейшие структуры данных начнём с рассмотрения массивов. Одним из преимуществ использования массивов является константный доступ по индексу. Это означает, что после создания массива, обращение к его ячейкам по индексу будет занимать константное время. Когда Вы обращаетесь по индексу к массиву, внутри массива происходит на самом деле следующее: при создании массива выделяется непрерывная область в памяти. Размер этой области равен размеру одной ячейки умноженному на количество ячеек, которое Вы запросили при создании. В дальшейшем, когда Вы обращаетесь, например, к сто двадцатой ячейке, происходит следующее - берется адрес нулевой ячейки и к нему прибавляется сто двадцать умноженное на размер ячейки Вашего массива. Тем самым вычисляется адрес сто двадцатой ячейки и из неё считываются данные. Происходит это очень быстро.
</div>
<br>
Таким образом, при использовании массива важно помнить, что:
<br>
<ol>
<li>он предоставляет константный доступ по индексу;</li>
<li>все его элементы однотипные, одного и того же размера;</li>
<li>он занимает непрерывную область памяти;</li>
<li>размер этой области памяти фиксируется при создании.</li>
</ol>

<div align="justify">
К качестве пример рассмотрим массив, показанный на рисунке 1, размера одиннадцать. Под него выделена опредленная область памяти и в нём заполнены только первые шесть ячеек. На самом деле заполнены все, но не проинициализированные явно ячейки будут содержать произвольные, случайные значения, поэтому обращаться стоит только к первым шести ячейкам. Возможно в дальшем мы захотим заполнить оставшиеся ячейки массива. Но больше, чем одиннадцать элементов мы в него добавить не сможем. Это связано с тем, что размер области памяти, выделяемой под массив, фиксируется при создании. Позже мы рассмотрим ситуацию, когда мы в какой-то момент выделили область памяти, создали массив, а потом выяснилось, что мы хотим добавить в него больше элементов, чем у нас доступно ячеек. Пока будем считать, что массив у нас фиксированного размера и выясним сколько по времени занимают стандартные операции с таким массивом.
</div>
<div align="center">
<img src="/images/arrays/image1.png" alt="Произвольный массив размера 11" />
<p>Рисунок 1 - Произвольный массив размера 11</p>
</div>
<br>
<h2>Операции с массивами</h2>
К стандартным операциям будем относить:
<br>
<ul>
<li>вставка элемента в массив.</li>
<li>удаление элемента из массива.</li>
</ul>

<div align="justify">
<p>Как уже было сказано выше, операция чтения элемента из массива или обращание к его ячейкам осуществляется за константное время.</p>

<p>
Рассмотрим массив, показанный на рисунке 2 (а), состоящий из шести элементов. В нём заполнены первые четыре ячейки, а элементы отсортированы по возрастанию. Это не обязательное условие, кроме того мы не обязаны хранить в массиве только числа - это могут быть объекты любого типа с единственным ограничением - они должны быть однотипные и одного и того же размера. Но чтобы было проще разобраться с операциями вставки и удаления, предположим, что в массиве хранятся числа в отсортированном порядке. Проще всего добавлять и удалять из конца массива. Эти операции выполняются за константное время. По картинке видно что, чтобы добавить новый элемент в конец массива, нужно добавить его в ячейку с индексом четыре (рисунок 2 (б)). Таким образом, вычисляем адрес этой ячейки и записываем туда этот элемент. Удаление последнего элемента происходит аналогично. Нам известно где располагается последний элемент. Сейчас заполнены первые пять ячеек. Соответственно чтобы удалить что-то с конца массива надо просто уменьшить этот размер на единицу, не обязательно даже удалять то, что лежит в массиве, достаточно просто теперь считать, что у нас заполнено не пять элементов в массиве, а четыре (рисунок 2 (в)). Вставку и удаление в начало и середину (под серединой здесь подразумевается произвольное место массива отличное от начала и конца) реализовать сложнее и придется потратить время О(n), где <em>n</em> - это количество элементов в массиве.
</p>

<p>
Рассмотрим пример. Предположим необходимо добавить в массив число "восемь". Как было сказано выше, по каким-то причинам все элементы в массиве должны быть отсортированы. Следовательно, вставить новый элемент нужно между ячейками с индексами ноль и один. Чтобы освободить место для этого нового элемента, необходимо сдвинуть все элементы массива вправо, начиная с элемента с индексом один. То же самое необходимо сделать, если мы удаляем элемент из начала или середины, только сдвигать всё налево. В худшем случае это займет линейное время, т. е. придется передвинуть все или почти все элементы (рисунок 2 (г)). Так устроены массивы фиксированного размера. В следующей части мы поговорим про списки, а чуть позже о том, что делать, если необходимо добавить в массив больше элементов, чем заранее было выделено ячеек.
</p>
</div>

<div align="center">
<img src="/images/arrays/image2.png" alt="Произвольный массив из шести элементов" />
<p>Рисунок 2 - Произвольный массив из шести элементов</p>
</div>


|          | вставка | удаление |
|:--------:|:-------:|:--------:|
|  начало  |   O(n)  |   O(n)   |
|   конец  |   O(1)  |   O(1)   |
| середина |   O(n)  |   O(n)   |